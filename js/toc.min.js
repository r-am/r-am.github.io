$(function(){function a(a,b,c){for(num=a.replace(/h/i,"")-b.replace(/h/i,""),j=0;j<num;j++)o+="\n"+c;return o}o="\n<ol>",h=$("h1, h2, h3, h4, h5, h6",".entry-content"),h.first().before('<nav class="toc js-toc"></nav>'),h.each(function(b){this.id="anc"+("0"+(b+1)).slice(-2),now=$(this).get(0).tagName,prev=h.eq(b-1).get(0).tagName,0==b||now>prev?a(now,prev,"<ol>"):now<prev&&a(prev,now,"</ol>"),o+='\n<li><a href="#'+this.id+'">'+this.innerHTML+"</a></li>"}),o+="\n</ol>",$(".js-toc").html(o)});